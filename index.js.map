{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function searchImages(query) {\n  const config = new URLSearchParams({\n    key: '3632143-ebeee10190d206f1a5cb99fa1',\n    q: encodeURIComponent(query),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const response = await fetch(`https://pixabay.com/api/?${config}`);\n\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n\n  return await response.json();\n}\n","import simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function showImages(images) {\n  const imagesList = document.querySelector('.images-list');\n\n  const imagesHTML = images.hits\n    .map(\n      img => `\n      <li class=\"images-item\">\n        <a class=\"images-link\" href=\"${img.largeImageURL}\" onclick=\"return false\">\n          <img\n            class=\"image\"\n            src=\"${img.webformatURL}\"\n            alt=\"${img.tags}\"\n          />\n        </a>\n        <div class=\"image-statistics\">\n          <ul class=\"stat-list stat-titles-list\">\n            <li class=\"stat-titles-item\">\n              <span class=\"stat-title\">Likes</span>\n              <span class=\"stat-value\">${img.likes}</span>\n            </li>\n            <li class=\"stat-titles-item\">\n              <span class=\"stat-title\">Views</span>\n              <span class=\"stat-value\">${img.views}</span>\n            </li>\n            <li class=\"stat-titles-item\">\n              <span class=\"stat-title\">Comments</span>\n              <span class=\"stat-value\">${img.comments}</span>\n            </li>\n            <li class=\"stat-titles-item\">\n              <span class=\"stat-title\">Downloads</span>\n              <span class=\"stat-value\">${img.downloads}</span>\n            </li>\n          </ul>\n        </div>\n      </li>`\n    )\n    .join('');\n\n  imagesList.insertAdjacentHTML('beforeend', imagesHTML);\n\n  const lightboxImages = new simpleLightbox('.images-list a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightboxImages.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchImages } from './js/pixabay-api';\nimport { showImages } from './js/render-functions';\n\nconst formElem = document.querySelector('form');\nconst imagesList = document.querySelector('.images-list');\nconst loader = document.querySelector('.loader');\n\nconst displayError = message => {\n  iziToast.error({\n    class: 'error-alert',\n    message,\n    messageColor: 'white',\n    position: 'topRight',\n    maxWidth: 432,\n  });\n};\n\nconst handleImageSearch = async event => {\n  event.preventDefault();\n  imagesList.innerHTML = '';\n\n  const searchQuery = event.target.elements.query.value.trim();\n\n  if (!searchQuery) {\n    displayError('Please enter a search query!');\n    return;\n  }\n\n  loader.classList.remove('hidden');\n\n  try {\n    const images = await searchImages(searchQuery);\n    loader.classList.add('hidden');\n\n    if (!images.hits.length) {\n      displayError(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    } else {\n      showImages(images);\n    }\n  } catch (error) {\n    console.error(error);\n    loader.classList.add('hidden');\n    displayError('An error occurred while fetching images. Please try again.');\n  }\n};\n\nformElem.addEventListener('submit', handleImageSearch);\n"],"names":["searchImages","query","config","response","showImages","images","imagesList","imagesHTML","img","simpleLightbox","formElem","loader","displayError","message","iziToast","handleImageSearch","event","searchQuery","error"],"mappings":"6vBAAO,eAAeA,EAAaC,EAAO,CACxC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,oCACL,EAAG,mBAAmBD,CAAK,EAC3B,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAW,MAAM,MAAM,4BAA4BD,CAAM,EAAE,EAEjE,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAO,MAAMA,EAAS,MACxB,CCbO,SAASC,EAAWC,EAAQ,CACjC,MAAMC,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAaF,EAAO,KACvB,IACCG,GAAO;AAAA;AAAA,uCAE0BA,EAAI,aAAa;AAAA;AAAA;AAAA,mBAGrCA,EAAI,YAAY;AAAA,mBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAOcA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,yCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,yCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,YAKjD,EACA,KAAK,EAAE,EAEVF,EAAW,mBAAmB,YAAaC,CAAU,EAE9B,IAAIE,EAAe,iBAAkB,CAC1D,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEc,QAAO,CACxB,CC5CA,MAAMC,EAAW,SAAS,cAAc,MAAM,EACxCJ,EAAa,SAAS,cAAc,cAAc,EAClDK,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAeC,GAAW,CAC9BC,EAAS,MAAM,CACb,MAAO,cACP,QAAAD,EACA,aAAc,QACd,SAAU,WACV,SAAU,GACd,CAAG,CACH,EAEME,EAAoB,MAAMC,GAAS,CACvCA,EAAM,eAAc,EACpBV,EAAW,UAAY,GAEvB,MAAMW,EAAcD,EAAM,OAAO,SAAS,MAAM,MAAM,OAEtD,GAAI,CAACC,EAAa,CAChBL,EAAa,8BAA8B,EAC3C,MACD,CAEDD,EAAO,UAAU,OAAO,QAAQ,EAEhC,GAAI,CACF,MAAMN,EAAS,MAAML,EAAaiB,CAAW,EAC7CN,EAAO,UAAU,IAAI,QAAQ,EAExBN,EAAO,KAAK,OAKfD,EAAWC,CAAM,EAJjBO,EACE,0EACR,CAIG,OAAQM,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBP,EAAO,UAAU,IAAI,QAAQ,EAC7BC,EAAa,4DAA4D,CAC1E,CACH,EAEAF,EAAS,iBAAiB,SAAUK,CAAiB"}